# 工程费结算计算器

一个简洁、易用的工程费用结算计算工具，帮助工程负责人快速核算项目费用并给工人结算。

## 功能特性

- **动态表格**：灵活添加/删除行和列
- **自定义列标题**：为每一列设置有意义的名称（如"基本工资"、"加班费"等），默认为"标题一"、"标题二"等，可随时修改
- **灵活计算**：支持加减乘除运算，每列可设置运算符
- **实时计算**：输入数据后自动计算每行总计和总金额
- **自动保存**：数据自动保存到浏览器本地，刷新不丢失
- **多格式导出**：支持导出为 Excel 和 PDF 格式
- **响应式设计**：支持桌面和移动设备

## 使用说明

### 基本操作

1. **添加工人**：点击"添加行"按钮，输入工人姓名
2. **添加费用项**：点击"添加列"按钮，系统自动生成"标题二"、"标题三"等
3. **自定义标题**：点击表头中的标题输入框，修改为需要的名称（如"基本工资"、"加班费"）
4. **设置运算符**：在运算符列的下拉框中选择运算符（+、-、×、÷）
5. **输入金额**：在对应单元格输入数值（支持小数）
6. **查看结果**：系统自动计算每行总计和总金额

### 计算逻辑示例

假设你将列标题修改为：
- 标题一：基本工资
- 标题二：加班小时
- 标题三：加班单价
- 标题四：其他补贴

设置运算符为：基本工资 **+** 加班小时 **×** 加班单价 **+** 其他补贴

表格显示：
```
| 序号 | 姓名 | 基本工资 | + | 加班小时 | × | 加班单价 | + | 其他补贴 | = | 总计 |
|  1   | 张三 |  3000   | + |    10    | × |    50    | + |   200   | = | 3700 |
```

计算公式：`3000 + (10 × 50) + 200 = 3700`

系统会按照运算符优先级（先乘除后加减）自动计算。

### 数据管理

- **自动保存**：所有数据自动保存到浏览器 LocalStorage
- **清空数据**：点击"清空数据"按钮可重置所有内容
- **导出 Excel**：点击"导出Excel"生成 .xlsx 文件
- **导出 PDF**：点击"导出PDF"生成结算报表

## 部署到 GitHub Pages

### 方法一：通过仓库设置部署

1. 将项目上传到 GitHub 仓库
2. 进入仓库的 Settings → Pages
3. 在 Source 中选择 `main` 分支
4. 保存后等待几分钟，访问 `https://你的用户名.github.io/仓库名`

### 方法二：使用命令行部署

```bash
# 初始化 Git 仓库
git init

# 添加所有文件
git add .

# 提交更改
git commit -m "Initial commit"

# 添加远程仓库
git remote add origin https://github.com/你的用户名/仓库名.git

# 推送到 GitHub
git push -u origin main
```

然后按照方法一的步骤 2-4 启用 GitHub Pages。

## 技术栈

- HTML5
- CSS3（响应式设计）
- JavaScript（原生 ES6+）
- [SheetJS](https://github.com/SheetJS/sheetjs)（Excel 导出）
- [jsPDF](https://github.com/parallax/jsPDF)（PDF 导出）

## 浏览器兼容性

- Chrome/Edge（推荐）
- Firefox
- Safari
- Opera

需要支持 ES6+ 和 LocalStorage 的现代浏览器。

## 项目结构

```
Settle/
├── index.html      # 主页面
├── styles.css      # 样式文件
├── script.js       # 核心逻辑
└── README.md       # 说明文档
```

## 常见问题

**Q: 数据会丢失吗？**
A: 数据自动保存到浏览器本地，除非清除浏览器数据或点击"清空数据"按钮，否则不会丢失。

**Q: 可以在多个设备上同步数据吗？**
A: 目前不支持云端同步，但可以通过"导出Excel"功能在不同设备间传输数据。

**Q: 支持多少行和列？**
A: 理论上无限制，但建议工人数量不超过30人，列数不超过20列，以保证性能和可读性。

**Q: 如何修改列标题？**
A: 直接点击表头的输入框，输入新的标题即可，会自动保存。

**Q: 导出的PDF为什么没有中文？**
A: PDF导出使用英文标题，这是为了确保跨平台兼容性。Excel导出完全支持中文。

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 更新日志

### v1.0.0 (2026-02-28)
- 初始版本发布
- 支持动态表格和灵活计算
- 支持本地存储和多格式导出
